# Система мультиязычности (i18n)

## Обзор

Реализована полноценная система мультиязычности для сайта NovaCreator Studio с поддержкой двух языков: русский (ru) и английский (en).

## Структура файлов

### Созданные файлы:

1. **`/includes/i18n.php`** - Основной файл системы локализации
   - Определение языка из URL
   - Загрузка переводов
   - Генерация локализованных URL
   - Функции для работы с переводами

2. **`/lang/ru.json`** - Русские переводы (базовый язык)
3. **`/lang/en.json`** - Английские переводы

### Обновленные файлы:

1. **`.htaccess`** - Добавлена поддержка языковых префиксов в URL
2. **`includes/header.php`** - Добавлен переключатель языка и локализация навигации
3. **`includes/seo_meta.php`** - Мультиязычные SEO-теги (hreflang, og:locale, canonical)
4. **`includes/breadcrumbs.php`** - Локализованные breadcrumbs
5. **`includes/footer.php`** - Локализованный footer
6. **`index.php`** - Использование переводов для всех строк

## URL-структура

- **Русская версия (по умолчанию):**
  - Корень: `/` или `/ru/`
  - Страницы: `/services`, `/ru/services`

- **Английская версия:**
  - Корень: `/en/`
  - Страницы: `/en/services`, `/en/about` и т.д.

## Использование

### В PHP файлах:

```php
<?php
// Подключаем локализацию
require_once __DIR__ . '/includes/i18n.php';
$currentLang = getCurrentLanguage();

// Получаем перевод
echo t('nav.home'); // "Главная" или "Home"

// Генерируем локализованный URL
echo getLocalizedUrl('en', '/services'); // "/en/services"
echo getLocalizedUrl('ru', '/services'); // "/ru/services"
?>
```

### Функции:

- `t($key, $params = [])` - Получить перевод по ключу
- `getCurrentLanguage()` - Получить текущий язык
- `getLocalizedUrl($lang, $path)` - Генерировать URL для языка
- `getCurrentPath()` - Получить текущий путь без языкового префикса
- `getAlternateLanguages()` - Получить альтернативные языковые версии

## SEO-оптимизация

Система автоматически генерирует:

1. **Canonical URL** - правильный канонический URL для каждого языка
2. **Hreflang теги** - для всех языковых версий страницы
3. **Open Graph локали** - `og:locale` и `og:locale:alternate`
4. **HTML lang атрибут** - правильный атрибут `lang` в теге `<html>`

## Добавление новых переводов

1. Откройте файл `/lang/ru.json` или `/lang/en.json`
2. Добавьте новый ключ в нужную секцию
3. Используйте в коде: `t('your.new.key')`

Пример:
```json
{
  "your": {
    "new": {
      "key": "Ваш текст"
    }
  }
}
```

## Добавление нового языка

1. Создайте файл `/lang/[код_языка].json`
2. Добавьте код языка в `SUPPORTED_LANGUAGES` в `i18n.php`
3. Обновите `.htaccess` для поддержки нового префикса

## Переключатель языка

Переключатель языка автоматически отображается в:
- Десктопной навигации (справа от меню)
- Мобильной навигации (рядом с кнопкой меню)

Он автоматически сохраняет текущую страницу при переключении языка.

## Примечания

- Русский язык (ru) является языком по умолчанию
- Корневой URL `/` автоматически считается русской версией
- Все ссылки в навигации и footer автоматически локализованы
- SEO-метатеги генерируются автоматически для каждого языка

